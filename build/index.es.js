import n,{Component as e,createContext as t,useState as r,useContext as o,useCallback as a,useMemo as i,memo as c,useEffect as l}from"react";import u from"@assets/error.png";import s,{createGlobalStyle as d,ThemeProvider as f,css as m}from"styled-components";import h from"react-dom";var p=function(n,e){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},p(n,e)};var g=function(){return g=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},g.apply(this,arguments)};function y(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t}function x(n,e,t){if(t||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))}function v(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}"function"==typeof SuppressedError&&SuppressedError;var b,w,D,E,S={primary:"#FFFFFF",text:"#333333",month:"#000000",border:"#E1E1E1",borderDash:"#9747FF",chosenDay:"#2F80ED",firstDayRange:"#2F80ED99",middleDayRange:"#2F80ED1A",disabledDay:"#AAAAAA",weekendDay:"#FF0000",holiday:"#CD5C5C",taskMarkColor:"#32CD32",errorText:"#B91414"},C={fontFamily:{openSans:"'Open Sans', sans-serif"},fontSize:{xxl:21,xl:18,l:15,m:14,s:13},fontWeight:{l:700,m:600,s:400}},k={xxs:"0.1rem",xs:"0.3125rem",s:"0.5rem",m:"0.625rem",xm:"0.9375rem",l:"1rem"},z=d(b||(b=v(["\n    * {\n        font-family: ",";\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        scroll-behavior: smooth;\n        outline: none;\n        color: ",";\n        user-select: none;\n    }\n"],["\n    * {\n        font-family: ",";\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        scroll-behavior: smooth;\n        outline: none;\n        color: ",";\n        user-select: none;\n    }\n"])),C.fontFamily.openSans,S.text),M=s.div(w||(w=v(["\n    font-size: ","px;\n    font-weight: ",";\n    text-align: center;\n    padding: "," 6px;\n    border: 1px solid ",";\n    border-radius: ",";\n    cursor: pointer;\n\n    &:hover {\n        border: 1px dashed ",";\n    }\n"],["\n    font-size: ","px;\n    font-weight: ",";\n    text-align: center;\n    padding: "," 6px;\n    border: 1px solid ",";\n    border-radius: ",";\n    cursor: pointer;\n\n    &:hover {\n        border: 1px dashed ",";\n    }\n"])),C.fontSize.s,C.fontWeight.m,k.s,S.primary,k.m,S.borderDash),T={colors:g({},S),fonts:g({},C),gaps:g({},k),sizes:g({},{cellSize:"30px",calendarWidth:"230px",modalSize:"400px",tablet:"784px"})},W=function(e){return function(t){return n.createElement(f,{theme:T},n.createElement(z,null),n.createElement(e,g({},t)))}},F=m(D||(D=v(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"],["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),A=m(E||(E=v(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"],["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]))),L=function(n){return n.theme.gaps.l},O=s.div($||($=v(["\n    max-width: 100vw;\n    min-height: 90vh;\n    ",";\n    flex-direction: column;\n    gap: ",";\n    padding: 0 ",";\n    text-align: center;\n"],["\n    max-width: 100vw;\n    min-height: 90vh;\n    ",";\n    flex-direction: column;\n    gap: ",";\n    padding: 0 ",";\n    text-align: center;\n"])),F,L,L),Y=s.p(V||(V=v(["\n    color: ",";\n    font-size: ","px;\n"],["\n    color: ",";\n    font-size: ","px;\n"])),(function(n){return n.theme.colors.errorText}),(function(n){return n.theme.fonts.fontSize.xxl}));s.span(R||(R=v(["\n    font-size: ","px;\n\n    @media (max-width: ",") {\n        font-size: ","px;\n    }\n"],["\n    font-size: ","px;\n\n    @media (max-width: ",") {\n        font-size: ","px;\n    }\n"])),(function(n){return n.theme.fonts.fontSize.l}),(function(n){return n.theme.sizes.tablet}),(function(n){return n.theme.fonts.fontSize.s}));var $,V,R,I,N,j,H=s.img(I||(I=v(["\n    width: 100px;\n"],["\n    width: 100px;\n"]))),Z=W(function(e){function t(n){var t=e.call(this,n)||this;return t.state={hasError:!1,error:null},t}return function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}p(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(t,e),t.getDerivedStateFromError=function(n){return{hasError:!0,error:n}},t.prototype.render=function(){var e=this.state,t=e.hasError,r=e.error;return t?n.createElement(O,{"data-testid":"error-boundary"},n.createElement(H,{src:u,alt:"something wrong"}),n.createElement("h2",null,"Oops! Something went wrong"),n.createElement(Y,null,r&&r.toString())):this.props.children},t}(e)),B=t({range:void 0,setRange:function(){}}),P=function(){return o(B)},J=function(e){var t=e.children,o=r({rangeStart:void 0,rangeEnd:void 0}),a={range:o[0],setRange:o[1]};return n.createElement(B.Provider,{value:a},t)},_=function(n){return n.theme.gaps.s},K=s.button(N||(N=v(["\n    font-family: ",";\n    font-size: ",";\n    font-weight: ",";\n    width: 100%;\n    min-width: ",";\n    background-color: ",";\n    color: ",";\n    border-radius: 0 0 "," ",";\n    border: 1px solid ",";\n    padding: "," 0;\n    transition: background-color 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        background-color: ",";\n    }\n"],["\n    font-family: ",";\n    font-size: ",";\n    font-weight: ",";\n    width: 100%;\n    min-width: ",";\n    background-color: ",";\n    color: ",";\n    border-radius: 0 0 "," ",";\n    border: 1px solid ",";\n    padding: "," 0;\n    transition: background-color 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        background-color: ",";\n    }\n"])),(function(n){return n.theme.fonts.fontFamily.openSans}),(function(n){return n.theme.fonts.fontSize.s}),(function(n){return n.theme.fonts.fontWeight.m}),(function(n){return n.theme.sizes.calendarWidth}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.text}),_,_,(function(n){return n.theme.colors.border}),(function(n){return n.theme.gaps.m}),(function(n){return n.theme.colors.middleDayRange})),U=n.memo((function(e){var t=e.text,r=e.onButtonClick;return n.createElement(K,{onClick:r},t)})),q=new Date,G=t({today:q,selectedDay:void 0,selectedMonth:q.getMonth(),selectedYear:q.getFullYear(),calendarType:"Day",setSelectedDay:function(){},setSelectedMonth:function(){},setSelectedYear:function(){},setCalendarType:function(){}}),Q=function(){return o(G)},X=function(e){var t=e.children,o=r(q)[0],a=r(void 0),i=a[0],c=a[1],l=r(q.getMonth()),u=l[0],s=l[1],d=r(q.getFullYear()),f=d[0],m=d[1],h=r("Day"),p={today:o,selectedDay:i,selectedMonth:u,selectedYear:f,calendarType:h[0],setSelectedDay:c,setSelectedMonth:s,setSelectedYear:m,setCalendarType:h[1]};return n.createElement(G.Provider,{value:p},t)},nn=/^[0-9.]*$/,en=/^(\d{2})\.(\d{2})\.(\d{4})$/,tn={Monday:"Mo",Tuesday:"Tu",Wednesday:"We",Thursday:"Th",Friday:"Fr",Saturday:"Sa",Sunday:"Su"};!function(n){n[n.January=0]="January",n[n.February=1]="February",n[n.March=2]="March",n[n.April=3]="April",n[n.May=4]="May",n[n.June=5]="June",n[n.July=6]="July",n[n.August=7]="August",n[n.September=8]="September",n[n.October=9]="October",n[n.November=10]="November",n[n.December=11]="December"}(j||(j={}));var rn,on,an,cn,ln,un,sn,dn,fn,mn,hn,pn,gn,yn,xn,vn,bn,wn,Dn,En,Sn,Cn,kn,zn,Mn,Tn,Wn,Fn,An,Ln,On=function(n){if(!n)return(new Date).toDateString();var e=n.getDate().toString().padStart(2,"0"),t=(n.getMonth()+1).toString().padStart(2,"0"),r=n.getFullYear().toString();return"".concat(e,".").concat(t,".").concat(r)},Yn=[{name:"New Year's Day",date:new Date("2024-01-01")},{name:"Orthodox Christmas Day",date:new Date("2024-01-07")},{name:"Defender of the Fatherland Day",date:new Date("2024-02-23")},{name:"International Women's Day",date:new Date("2024-03-08")},{name:"Constitution Day",date:new Date("2024-03-15")},{name:"Day of Unity of the Peoples of Belarus and Russia",date:new Date("2024-04-02")},{name:"International Labour Day",date:new Date("2024-05-01")},{name:"Commemoration Day",date:new Date("2024-05-03")},{name:"Victory Day",date:new Date("2024-05-09")},{name:"Summer Solstice",date:new Date("2024-06-21")},{name:"Independence Day",date:new Date("2024-07-03")},{name:"National Unity Day",date:new Date("2024-09-17")},{name:"Mother's Day",date:new Date("2024-10-14")},{name:"October Revolution Day",date:new Date("2024-11-07")},{name:"Winter Solstice",date:new Date("2024-12-21")},{name:"Christmas Day",date:new Date("2024-12-25")}],$n=function(n){return 0===n.getDay()||6===n.getDay()},Vn=function(n,e){return j[e]===n},Rn=function(n,e){return!!e&&(n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear())},In=function(n){return n.split(".").map((function(n){return parseInt(n)}))},Nn=function(n){return Yn.some((function(e){return n.getDate()===e.date.getDate()&&n.getMonth()===e.date.getMonth()}))},jn=function(n,e){return new Date(n,e+1,0).getDate()},Hn=function(n,e,t){var r=jn(e,n),o="Monday"===t,a=function(n,e){return new Date(n,e,1).getDay()}(e,n),i=o?(7+a-1)%7:(7+a)%7,c=function(n,e){return 0===e?{month:11,year:n-1}:{month:e-1,year:n}}(e,n),l=c.month,u=c.year,s=function(n,e){return 11===e?{month:0,year:n+1}:{month:e+1,year:n}}(e,n),d=s.month,f=s.year,m=jn(u,l),h=Array.from({length:i},(function(n,e){return new Date(u,l,m-i+e+1)})),p=Array.from({length:r},(function(t,r){return new Date(e,n,r+1)})),g=r+i,y=7*Math.ceil(g/7)-g,v=Array.from({length:y},(function(n,e){return new Date(f,d,e+1)}));return x(x(x([],h,!0),p,!0),v,!0)},Zn=function(n){if(!n)return[];var e=localStorage.getItem(n);return e?JSON.parse(e):[]},Bn=function(n,e){localStorage.setItem(n,JSON.stringify(e))},Pn=function(n){return n.theme.colors.text},Jn=function(n){return n.theme.colors.chosenDay},_n=function(n){return n.theme.colors.disabledDay},Kn=function(n){return n.theme.colors.firstDayRange},Un=function(n){return n.theme.colors.middleDayRange},qn=function(n){return n.theme.colors.primary},Gn=function(n){return n.theme.colors.weekendDay},Qn=function(n){return n.theme.colors.holiday},Xn=s.div(rn||(rn=v(["\n    position: relative;\n    font-size: ","px;\n    font-weight: ",";\n    text-align: center;\n    padding: "," 6px;\n    max-width: ",";\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    border-color: ",";\n    border-radius: ",";\n    cursor: pointer;\n\n    &:hover {\n        border: 1px dashed ",";\n    }\n"],["\n    position: relative;\n    font-size: ","px;\n    font-weight: ",";\n    text-align: center;\n    padding: "," 6px;\n    max-width: ",";\n    color: ",";\n    background-color: ",";\n    border: 1px solid ",";\n    border-color: ",";\n    border-radius: ",";\n    cursor: pointer;\n\n    &:hover {\n        border: 1px dashed ",";\n    }\n"])),(function(n){return n.theme.fonts.fontSize.s}),(function(n){return n.theme.fonts.fontWeight.m}),(function(n){return n.theme.gaps.s}),(function(n){return n.theme.sizes.cellSize}),(function(n){return function(n,e,t,r,o){switch(!0){case"Between"===o:return Jn;case"Start"===o:case"End"===o:case t:return qn;case r:return Qn;case!n:return _n;case e:return Gn;default:return Pn}}(n.$isActive,n.$isWeekend,n.$isDaySelected,n.$isHoliday,n.$range)}),(function(n){return function(n,e){switch(!0){case n:return Jn;case"Start"===e:return Kn;case"Between"===e:return Un;case"End"===e:return Jn;default:return qn}}(n.$isDaySelected,n.$range)}),(function(n){return n.theme.colors.primary}),(function(n){return n.$isToday?function(n){return n.theme.colors.chosenDay}:"none"}),(function(n){var e=n.$range;return e&&"Start"===e?"10px 0 0 10px":"Between"===e?0:"End"===e?"0 10px 10px 0":"10px"}),(function(n){return n.theme.colors.borderDash})),ne=s.div(on||(on=v(["\n    position: absolute;\n    left: 40%;\n    top: 2px;\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    border: 1px solid ",";\n    background-color: ",";\n"],["\n    position: absolute;\n    left: 40%;\n    top: 2px;\n    width: 6px;\n    height: 6px;\n    border-radius: 50%;\n    border: 1px solid ",";\n    background-color: ",";\n"])),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.taskMarkColor})),ee=W((function(e){var t,r=e.day,o=e.isActive,i=e.isWeekend,c=void 0!==i&&i,l=e.isToday,u=e.isHoliday,s=void 0!==u&&u,d=e.isWithRange,f=void 0!==d&&d,m=e.isWithSelectedDay,h=void 0!==m&&m,p=e.isWithTasks,y=void 0!==p&&p,x=e.minValue,v=void 0===x?void 0:x,b=e.maxValue,w=void 0===b?void 0:b,D=Q(),E=D.selectedDay,S=D.setSelectedDay,C=D.setSelectedMonth,k=D.setSelectedYear,z=P(),M=z.range,T=z.setRange,W=a((function(){v&&w&&!function(n,e,t){return n.getTime()>=e.getTime()&&n.getTime()<=t.getTime()}(r,v,w)||(f?T((function(n){return function(n,e){if(e&&e.rangeStart){if(e.rangeEnd){var t=new Date(+e.rangeStart),r=new Date(+e.rangeEnd);return n>=t&&n<=r?Math.abs(n.getTime()-t.getTime())<=Math.abs(n.getTime()-r.getTime())?{rangeStart:n,rangeEnd:e.rangeEnd}:{rangeStart:e.rangeStart,rangeEnd:n}:n<t?{rangeStart:n,rangeEnd:e.rangeEnd}:{rangeStart:e.rangeStart,rangeEnd:n}}return n>=e.rangeStart?g(g({},e),{rangeEnd:n}):{rangeStart:n,rangeEnd:e.rangeStart}}return{rangeStart:n,rangeEnd:void 0}}(r,n)})):h&&(o||(C(r.getMonth()),k(r.getFullYear())),S(r)))}),[h,f,o,r,v,w]),F=Zn(On(r));return n.createElement(Xn,{"data-testid":"day-of-week",$isActive:o,$isWeekend:c,$isToday:l,$isHoliday:s,$range:(t=r,function(n,e){var t=e||{},r=t.rangeStart,o=t.rangeEnd;if(r&&n.getTime()===r.getTime())return"Start";if(r&&o){if(n.getTime()===o.getTime())return"End";if(n>r&&n<o)return"Between"}}(t,M)),onClick:W,$isDaySelected:Rn(r,E)},y&&0!==F.length&&n.createElement(ne,null),r.getDate())})),te=function(n){return n.theme.colors.chosenDay},re=function(n){return n.theme.colors.primary},oe=function(n){return n.theme.colors.text},ae=s(M)(an||(an=v(["\n    color: ",";\n    background-color: ",";\n"],["\n    color: ",";\n    background-color: ",";\n"])),(function(n){return n.$isMonthSelected?re:oe}),(function(n){return n.$isMonthSelected?te:re})),ie=W((function(e){var t=e.month,r=e.isSelected,o=Q(),i=o.setCalendarType,c=o.setSelectedMonth,l=a((function(){i("Day"),c(function(n){return j[n]}(t))}),[]);return n.createElement(ae,{"data-testid":"month-in-grid",$isMonthSelected:r,onClick:l},t)})),ce=s.div(cn||(cn=v(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n"],["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(7, 1fr);\n"]))),le=s.div(ln||(ln=v(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n"],["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(2, 1fr);\n"]))),ue=s.div(un||(un=v(["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n"],["\n    width: 100%;\n    display: grid;\n    grid-template-columns: repeat(4, 1fr);\n"]))),se=function(n){return n.theme.colors.chosenDay},de=function(n){return n.theme.colors.primary},fe=function(n){return n.theme.colors.text},me=s(M)(sn||(sn=v(["\n    color: ",";\n    background-color: ",";\n"],["\n    color: ",";\n    background-color: ",";\n"])),(function(n){return n.$isYearSelected?de:fe}),(function(n){return n.$isYearSelected?se:de})),he=W((function(e){var t=e.year,r=e.isSelected,o=Q(),i=o.setCalendarType,c=o.setSelectedYear,l=a((function(){i("Day"),c(t)}),[]);return n.createElement(me,{"data-testid":"year-in-grid",$isYearSelected:r,onClick:l},t)})),pe=function(e){var t=e.isHolidayDate,r=e.isWithRange,o=e.isDayWeekend,a=e.isWithSelectedDay,c=e.isSundayFirst,l=void 0!==c&&c,u=e.isWithTasks,s=e.minValue,d=e.maxValue,f=Q(),m=f.today,h=f.selectedMonth,p=f.selectedYear,g=f.calendarType,y=l?"Sunday":"Monday",x=i((function(){if("Day"===g)return Hn(h,p,y)}),[g,p,h,y]),v=i((function(){if("Month"===g)return Object.values(j).filter((function(n){return"string"==typeof n}))}),[g,h]),b=i((function(){if("Year"===g)return function(n){for(var e=[],t=n-10;t<n+10;t++)e.push(t);return e}(p)}),[g,p]);return n.createElement(n.Fragment,null,x&&n.createElement(ce,{"data-testid":"data-grid-container"},x.map((function(e){return n.createElement(ee,{key:e.getTime(),day:e,isActive:(i=e,c=h,l=p,i.getMonth()===c&&i.getFullYear()===l),isWeekend:o&&o(e),isToday:Rn(e,m),isHoliday:t&&t(e),isWithRange:r,isWithSelectedDay:a,isWithTasks:u,minValue:s,maxValue:d});var i,c,l}))),v&&n.createElement(le,null,v.map((function(e){return n.createElement(ie,{key:e,month:e,isSelected:Vn(e,h)})}))),b&&n.createElement(ue,null,b.map((function(e){return n.createElement(he,{key:e,year:e,isSelected:e===p})}))))},ge=s.span(dn||(dn=v(["\n    text-align: center;\n    font-size: ","px;\n    font-weight: ",";\n    padding: "," 6px;\n"],["\n    text-align: center;\n    font-size: ","px;\n    font-weight: ",";\n    padding: "," 6px;\n"])),(function(n){return n.theme.fonts.fontSize.m}),(function(n){return n.theme.fonts.fontWeight.l}),(function(n){return n.theme.gaps.s})),ye=function(e){var t=e.day;return n.createElement(ge,null,t)},xe=s.div(fn||(fn=v(["\n    display: grid;\n    grid-template-columns: repeat(7, ",");\n"],["\n    display: grid;\n    grid-template-columns: repeat(7, ",");\n"])),(function(n){return n.theme.sizes.cellSize})),ve=W((function(e){var t=e.isSundayFirst,r=void 0!==t&&t,o=i((function(){var n=Object.values(tn);return r?x([n[6]],n.slice(0,6),!0):n}),[]);return n.createElement(xe,null,o.map((function(e){return n.createElement(ye,{key:e,day:e})})))})),be=function(e){var t=y(e,[]);return n.createElement("svg",g({width:"18",height:"18",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),n.createElement("path",{id:"Vector",d:"M4.27337 4L3.33337 4.94L6.38671 8L3.33337 11.06L4.27337 12L8.27337 8L4.27337 4Z",fill:"black"}),n.createElement("path",{id:"Vector",d:"M8.66668 4L7.72668 4.94L10.78 8L7.72668 11.06L8.66668 12L12.6667 8L8.66668 4Z",fill:"black"}))},we=function(e){var t=y(e,[]);return n.createElement("svg",g({width:"18",height:"18",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),n.createElement("path",{id:"Vector",d:"M11.7266 12L12.6666 11.06L9.61329 8L12.6666 4.94L11.7266 4L7.72663 8L11.7266 12Z",fill:"black"}),n.createElement("path",{id:"Vector",d:"M7.33332 12L8.27332 11.06L5.21998 8L8.27331 4.94L7.33331 4L3.33332 8L7.33332 12Z",fill:"black"}))},De=s.div(mn||(mn=v(["\n    width: 100%;\n    ",";\n    padding: "," 0;\n\n    & svg:hover {\n        cursor: pointer;\n    }\n"],["\n    width: 100%;\n    ",";\n    padding: "," 0;\n\n    & svg:hover {\n        cursor: pointer;\n    }\n"])),A,(function(n){return n.theme.gaps.m})),Ee=s.h3(hn||(hn=v(["\n    font-family: ",";\n    font-size: ","px;\n    font-weight: ",";\n    color: ",";\n    cursor: pointer;\n"],["\n    font-family: ",";\n    font-size: ","px;\n    font-weight: ",";\n    color: ",";\n    cursor: pointer;\n"])),(function(n){return n.theme.fonts.fontFamily.openSans}),(function(n){return n.theme.fonts.fontSize.m}),(function(n){return n.theme.fonts.fontWeight.l}),(function(n){return n.theme.colors.month})),Se=s.span(pn||(pn=v(["\n    &:hover {\n        color: ",";\n    }\n"],["\n    &:hover {\n        color: ",";\n    }\n"])),(function(n){return n.theme.colors.chosenDay})),Ce=s.span(gn||(gn=v(["\n    &:hover {\n        color: ",";\n    }\n"],["\n    &:hover {\n        color: ",";\n    }\n"])),(function(n){return n.theme.colors.chosenDay})),ke=function(){var e=Q(),t=e.selectedMonth,r=e.selectedYear,o=e.calendarType,i=e.setSelectedMonth,c=e.setSelectedYear,l=e.setCalendarType,u=a((function(n){return function(){if("Day"===o){var e,a=r;if("next"===n)(e=(t+1)%12)<t&&(a++,c(a)),i(e);else(e=(t+11)%12)>t&&(a--,c(a)),i(e)}"Year"===o&&c("next"===n?r+20:r-20)}}),[o,t,r]),s=a((function(){l("Month")}),[]),d=a((function(){l("Year")}),[]);return n.createElement(De,{"data-testid":"month-slider"},n.createElement(we,{onClick:u("prev")}),n.createElement(Ee,null,"Day"===o?n.createElement(n.Fragment,null,n.createElement(Se,{onClick:s},j[t]," "),n.createElement(Ce,{onClick:d},r)):"Month"===o?n.createElement(Se,null,"Months"):n.createElement(Se,null,r-10," - ",r+9)),n.createElement(be,{onClick:u("next")}))},ze=s.div(yn||(yn=v(["\n    ",";\n    width: 100%;\n    max-width: ",";\n    flex-direction: column;\n    border: 1px solid ",";\n    border-radius: ",";\n    padding: ",";\n"],["\n    ",";\n    width: 100%;\n    max-width: ",";\n    flex-direction: column;\n    border: 1px solid ",";\n    border-radius: ",";\n    padding: ",";\n"])),F,(function(n){return n.theme.sizes.calendarWidth}),(function(n){return n.theme.colors.border}),(function(n){var e=n.theme,t=n.$isRangeExist,r=n.$isWithTasks;return t||r?"".concat(e.gaps.s," ").concat(e.gaps.s," 0 0"):e.gaps.s}),(function(n){return n.theme.gaps.m})),Me=W((function(e){var t=e.isHolidayDate,r=e.isWithRange,o=e.isDayWeekend,i=e.isWithSelectedDay,c=e.isSundayFirst,l=e.isWithTasks,u=e.minValue,s=e.maxValue,d=P(),f=d.range,m=d.setRange,h=a((function(){m(void 0)}),[m]),p=r&&!!(null==f?void 0:f.rangeStart)&&!!(null==f?void 0:f.rangeEnd);return n.createElement(Z,null,n.createElement(ze,{$isRangeExist:p,$isWithTasks:l,"data-testid":"calendar"},n.createElement(ke,null),n.createElement(ve,{isSundayFirst:c}),n.createElement(pe,{isHolidayDate:t,isWithRange:r,isWithSelectedDay:i,isSundayFirst:c,isDayWeekend:o,isWithTasks:l,minValue:u,maxValue:s})),p&&n.createElement(U,{text:"Clear Interval",onButtonClick:h}))})),Te=function(){function n(){this.calendar=Me}return n.prototype.addDecorator=function(n){this.calendar=n(this.calendar)},n.prototype.getCalendar=function(){return this.calendar},n}(),We=function(e){var t=function(t){return n.createElement(e,g({},t,{isHolidayDate:Nn}))},r=e.displayName||e.name;return t.displayName="withHolidays(".concat(r,")"),t},Fe=function(e){var t=function(t){return n.createElement(e,g({},t,{isWithRange:!0}))},r=e.displayName||e.name;return t.displayName="withRange(".concat(r,")"),t},Ae=function(e){var t=function(t){return n.createElement(e,g({},t,{isWithSelectedDay:!0}))},r=e.displayName||e.name;return t.displayName="withSelectedDay(".concat(r,")"),t},Le=function(e){var t=function(t){return n.createElement(e,g({},t,{isSundayFirst:!0}))},r=e.displayName||e.name;return t.displayName="withSundayFirst(".concat(r,")"),t},Oe=s.div(xn||(xn=v(["\n    ",";\n    gap: ",";\n    width: 100%;\n    margin-bottom: ",";\n"],["\n    ",";\n    gap: ",";\n    width: 100%;\n    margin-bottom: ",";\n"])),F,(function(n){return n.theme.gaps.s}),(function(n){return n.theme.gaps.l})),Ye=s.input(vn||(vn=v(["\n    font-size: ","px;\n    font-weight: ",";\n    margin: "," 0;\n    padding: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    background: transparent;\n    flex: 1;\n"],["\n    font-size: ","px;\n    font-weight: ",";\n    margin: "," 0;\n    padding: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    background: transparent;\n    flex: 1;\n"])),(function(n){return n.theme.fonts.fontSize.xl}),(function(n){return n.theme.fonts.fontWeight.m}),(function(n){return n.theme.gaps.s}),(function(n){return n.theme.gaps.s}),(function(n){return n.theme.colors.disabledDay}),(function(n){return n.theme.gaps.xs})),$e=s.button(bn||(bn=v(["\n    ",";\n    font-weight: ",";\n    padding: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    background: ",";\n    transition: all 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        background: ",";\n    }\n\n    &:active {\n        background: ",";\n    }\n"],["\n    ",";\n    font-weight: ",";\n    padding: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    background: ",";\n    transition: all 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        background: ",";\n    }\n\n    &:active {\n        background: ",";\n    }\n"])),F,(function(n){return n.theme.fonts.fontWeight.m}),(function(n){return n.theme.gaps.m}),(function(n){return n.theme.colors.disabledDay}),(function(n){return n.theme.gaps.xs}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.middleDayRange}),(function(n){return n.theme.colors.disabledDay})),Ve=c((function(e){var t=e.taskText,r=e.onChange,o=e.onAdd;return n.createElement(Oe,null,n.createElement(Ye,{type:"text",placeholder:"Input new task",value:t,onChange:r,onKeyDown:function(n){"Enter"===n.key&&o()}}),n.createElement($e,{onClick:o},"Add Task"))})),Re=s.div(wn||(wn=v(["\n    ",";\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 1000;\n"],["\n    ",";\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100vw;\n    height: 100vh;\n    z-index: 1000;\n"])),F),Ie=s.div(Dn||(Dn=v(["\n    ",";\n    flex-direction: column;\n    position: relative;\n    width: ",";\n    padding: 40px "," 20px;\n    border: 1px solid ",";\n    border-radius: ",";\n    box-shadow: "," 0 6px 10px -2px;\n    background: ",";\n"],["\n    ",";\n    flex-direction: column;\n    position: relative;\n    width: ",";\n    padding: 40px "," 20px;\n    border: 1px solid ",";\n    border-radius: ",";\n    box-shadow: "," 0 6px 10px -2px;\n    background: ",";\n"])),F,(function(n){return n.theme.sizes.modalSize}),(function(n){return n.theme.gaps.l}),(function(n){return n.theme.colors.chosenDay}),(function(n){return n.theme.gaps.m}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.primary})),Ne=s.button(En||(En=v(["\n    font-size: 50px;\n    position: absolute;\n    top: -5px;\n    right: 8px;\n    background: none;\n    border: none;\n    color: ",";\n    transition: color 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        color: ",";\n    }\n"],["\n    font-size: 50px;\n    position: absolute;\n    top: -5px;\n    right: 8px;\n    background: none;\n    border: none;\n    color: ",";\n    transition: color 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        color: ",";\n    }\n"])),(function(n){return n.theme.colors.text}),(function(n){return n.theme.colors.errorText})),je=s.h2(Sn||(Sn=v(["\n    font-size: ","px;\n    font-weight: ",";\n    margin-bottom: ",";\n"],["\n    font-size: ","px;\n    font-weight: ",";\n    margin-bottom: ",";\n"])),(function(n){return n.theme.fonts.fontSize.xxl}),(function(n){return n.theme.fonts.fontWeight.m}),(function(n){return n.theme.gaps.l})),He=s.div(Cn||(Cn=v(["\n    width: 100%;\n    padding: 0 ",";\n    max-height: 50vh;\n    overflow-y: auto;\n"],["\n    width: 100%;\n    padding: 0 ",";\n    max-height: 50vh;\n    overflow-y: auto;\n"])),(function(n){return n.theme.gaps.s})),Ze=s.div(kn||(kn=v(["\n    ",";\n    width: 100%;\n    gap: ",";\n    margin-bottom: ",";\n"],["\n    ",";\n    width: 100%;\n    gap: ",";\n    margin-bottom: ",";\n"])),A,(function(n){return n.theme.gaps.s}),(function(n){return n.theme.gaps.s})),Be=s.p(zn||(zn=v(["\n    font-size: ","px;\n    font-weight: ",";\n    text-decoration: ",";\n    flex: 1;\n"],["\n    font-size: ","px;\n    font-weight: ",";\n    text-decoration: ",";\n    flex: 1;\n"])),(function(n){return n.theme.fonts.fontSize.xl}),(function(n){return n.theme.fonts.fontWeight.m}),(function(n){return n.$isCompleted?"line-through":"none"})),Pe=s.button(Mn||(Mn=v(["\n    flex: 0;\n    ",";\n    font-weight: ",";\n    padding: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    background: ",";\n    transition: all 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        background: ",";\n    }\n\n    &:active {\n        background: ",";\n    }\n"],["\n    flex: 0;\n    ",";\n    font-weight: ",";\n    padding: ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    background: ",";\n    transition: all 0.3s;\n    cursor: pointer;\n\n    &:hover {\n        background: ",";\n    }\n\n    &:active {\n        background: ",";\n    }\n"])),F,(function(n){return n.theme.fonts.fontWeight.m}),(function(n){return n.theme.gaps.s}),(function(n){return n.theme.colors.disabledDay}),(function(n){return n.theme.gaps.xs}),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.middleDayRange}),(function(n){return n.theme.colors.disabledDay})),Je=c((function(e){var t=e.task,r=e.setTasks,o=t.id,a=t.text,i=t.isCompleted,c=Q().selectedDay,l=On(c);return n.createElement(Ze,null,n.createElement("input",{type:"checkbox",checked:i,onChange:function(){var n=Zn(l).map((function(n){return n.id===o?g(g({},n),{isCompleted:!n.isCompleted}):n}));r(n),Bn(l,n)}}),n.createElement(Be,{$isCompleted:i},a),n.createElement(Pe,{onClick:function(){var n=Zn(l).filter((function(n){return n.id!==o}));r(n),0===n.length?function(n){localStorage.removeItem(n)}(l):Bn(l,n)}},"Delete"))})),_e=W((function(e){var t=e.onClose,o=r(""),i=o[0],c=o[1],u=r([]),s=u[0],d=u[1],f=Q().selectedDay,m=On(f||new Date);l((function(){var n=Zn(m);n&&d(n)}),[f]);var p=a((function(n){c(n.target.value)}),[]),g=a((function(){if(""!==i.trim()){var n=x([],s,!0),e={id:String((new Date).getTime()),text:i,isCompleted:!1};n.push(e),d(n),Bn(m,n),c("")}}),[i,m]);return h.createPortal(n.createElement(Re,null,n.createElement(Ie,{"data-testid":"modal"},n.createElement(Ne,{onClick:t},"×"),n.createElement(je,null,"Tasks for ",m),n.createElement(Ve,{taskText:i,onChange:p,onAdd:g}),n.createElement(He,null,0!==s.length?s.map((function(e){return n.createElement(Je,{key:e.id,task:e,setTasks:d})})):"Your tasks will be here"))),document.body)})),Ke=function(e){var t=function(t){var o=r(!1),i=o[0],c=o[1],l=Q().selectedDay,u=a((function(){c((function(n){return!n}))}),[]);return n.createElement(n.Fragment,null,n.createElement(e,g({},t,{isWithTasks:!0})),l&&n.createElement(U,{text:"Add task",onButtonClick:u}),i&&n.createElement(_e,{onClose:u}))},o=e.displayName||e.name;return t.displayName="withTasks(".concat(o,")"),t},Ue=function(e){var t=function(t){return n.createElement(e,g({},t,{isDayWeekend:$n}))},r=e.displayName||e.name;return t.displayName="withWeekendsDays(".concat(r,")"),t},qe=function(e){var t=y(e,[]);return n.createElement("svg",g({width:"25",height:"25",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),n.createElement("path",{id:"Vector",d:"M7.2 9.59999C6.97333 9.59999 6.78347 9.52319 6.6304 9.36959C6.4768 9.21653 6.4 9.02666 6.4 8.79999C6.4 8.57333 6.4768 8.38319 6.6304 8.22959C6.78347 8.07653 6.97333 7.99999 7.2 7.99999C7.42667 7.99999 7.6168 8.07653 7.7704 8.22959C7.92347 8.38319 8 8.57333 8 8.79999C8 9.02666 7.92347 9.21653 7.7704 9.36959C7.6168 9.52319 7.42667 9.59999 7.2 9.59999ZM4 9.59999C3.77333 9.59999 3.5832 9.52319 3.4296 9.36959C3.27653 9.21653 3.2 9.02666 3.2 8.79999C3.2 8.57333 3.27653 8.38319 3.4296 8.22959C3.5832 8.07653 3.77333 7.99999 4 7.99999C4.22667 7.99999 4.4168 8.07653 4.5704 8.22959C4.72347 8.38319 4.8 8.57333 4.8 8.79999C4.8 9.02666 4.72347 9.21653 4.5704 9.36959C4.4168 9.52319 4.22667 9.59999 4 9.59999ZM10.4 9.59999C10.1733 9.59999 9.98347 9.52319 9.8304 9.36959C9.6768 9.21653 9.6 9.02666 9.6 8.79999C9.6 8.57333 9.6768 8.38319 9.8304 8.22959C9.98347 8.07653 10.1733 7.99999 10.4 7.99999C10.6267 7.99999 10.8165 8.07653 10.9696 8.22959C11.1232 8.38319 11.2 8.57333 11.2 8.79999C11.2 9.02666 11.1232 9.21653 10.9696 9.36959C10.8165 9.52319 10.6267 9.59999 10.4 9.59999ZM7.2 12.8C6.97333 12.8 6.78347 12.7232 6.6304 12.5696C6.4768 12.4165 6.4 12.2267 6.4 12C6.4 11.7733 6.4768 11.5835 6.6304 11.4304C6.78347 11.2768 6.97333 11.2 7.2 11.2C7.42667 11.2 7.6168 11.2768 7.7704 11.4304C7.92347 11.5835 8 11.7733 8 12C8 12.2267 7.92347 12.4165 7.7704 12.5696C7.6168 12.7232 7.42667 12.8 7.2 12.8ZM4 12.8C3.77333 12.8 3.5832 12.7232 3.4296 12.5696C3.27653 12.4165 3.2 12.2267 3.2 12C3.2 11.7733 3.27653 11.5835 3.4296 11.4304C3.5832 11.2768 3.77333 11.2 4 11.2C4.22667 11.2 4.4168 11.2768 4.5704 11.4304C4.72347 11.5835 4.8 11.7733 4.8 12C4.8 12.2267 4.72347 12.4165 4.5704 12.5696C4.4168 12.7232 4.22667 12.8 4 12.8ZM10.4 12.8C10.1733 12.8 9.98347 12.7232 9.8304 12.5696C9.6768 12.4165 9.6 12.2267 9.6 12C9.6 11.7733 9.6768 11.5835 9.8304 11.4304C9.98347 11.2768 10.1733 11.2 10.4 11.2C10.6267 11.2 10.8165 11.2768 10.9696 11.4304C11.1232 11.5835 11.2 11.7733 11.2 12C11.2 12.2267 11.1232 12.4165 10.9696 12.5696C10.8165 12.7232 10.6267 12.8 10.4 12.8ZM1.6 16C1.16 16 0.7832 15.8435 0.4696 15.5304C0.156533 15.2168 0 14.84 0 14.4V3.19999C0 2.75999 0.156533 2.38346 0.4696 2.07039C0.7832 1.75679 1.16 1.59999 1.6 1.59999H2.4V-7.62939e-06H4V1.59999H10.4V-7.62939e-06H12V1.59999H12.8C13.24 1.59999 13.6168 1.75679 13.9304 2.07039C14.2435 2.38346 14.4 2.75999 14.4 3.19999V14.4C14.4 14.84 14.2435 15.2168 13.9304 15.5304C13.6168 15.8435 13.24 16 12.8 16H1.6ZM1.6 14.4H12.8V6.39999H1.6V14.4Z",fill:"#AAAAAA"}))},Ge=function(e){var t=y(e,[]);return n.createElement("svg",g({width:"25",height:"25",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),n.createElement("g",{id:"Icon / Field / Clear"},n.createElement("path",{id:"Vector",d:"M12.9872 3.04239C10.2573 0.319202 5.77739 0.319202 3.04745 3.04239C0.317516 5.76559 0.317516 10.2344 3.04745 12.9576C5.77739 15.6808 10.1873 15.6808 12.9172 12.9576C15.6471 10.2344 15.7171 5.76559 12.9872 3.04239ZM9.97728 10.9327L8.01733 8.97756L6.05738 10.9327L5.0774 9.95511L7.03735 8L5.0774 6.04489L6.05738 5.06733L8.01733 7.02244L9.97728 5.06733L10.9573 6.04489L8.99731 8L10.9573 9.95511L9.97728 10.9327Z",fill:"#AAAAAA"})))},Qe=s.input(Tn||(Tn=v(["\n    font-size: ","px;\n    width: 100%;\n    border: none;\n    background: transparent;\n"],["\n    font-size: ","px;\n    width: 100%;\n    border: none;\n    background: transparent;\n"])),(function(n){return n.theme.fonts.fontSize.l})),Xe=W((function(e){var t=Q(),r=t.setSelectedDay,o=t.setSelectedMonth,i=t.setSelectedYear,c=e.inputText,l=e.setInputText,u=e.setIsCalendarOpen,s=e.setInvalidInputError,d=a((function(n){var e=n.target.value;if(s(""),!nn.test(e))return n.preventDefault(),void s("Date should be in format: dd.mm.yyyy");e.length>10?n.preventDefault():l(e)}),[c]),f=a((function(n){var e,t=n.target.value;if("Enter"===n.key){if(e=t,!en.test(e))return void s("Date should be in format: dd.mm.yyyy");if(!function(n){var e=In(n),t=e[0],r=e[1],o=e[2],a=new Date(o,r-1,t),i=a.getDate()===t,c=a.getMonth()===r-1,l=a.getFullYear()===o;return i&&c&&l}(t))return void s("It seems this date doesn't exist :(");var a=In(t),c=a[0],l=a[1],u=a[2],d=new Date(u,l-1,c);i(u),o(l-1),r(d)}}),[]),m=a((function(){u(!0)}),[]);return n.createElement(Qe,{placeholder:"DD.MM.YYYY",type:"text",value:c,onChange:d,onKeyDown:f,onFocus:m})})),nt=function(n){return n.theme.gaps.s},et=s.section(Wn||(Wn=v(["\n    display: flex;\n    flex-direction: column;\n    max-width: ",";\n\n    & svg:hover {\n        cursor: pointer;\n    }\n"],["\n    display: flex;\n    flex-direction: column;\n    max-width: ",";\n\n    & svg:hover {\n        cursor: pointer;\n    }\n"])),(function(n){return n.theme.sizes.calendarWidth})),tt=s.div(Fn||(Fn=v(["\n    ",";\n    padding: "," ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    gap: ",";\n    margin: "," auto;\n"],["\n    ",";\n    padding: "," ",";\n    border: 1px solid ",";\n    border-radius: ",";\n    gap: ",";\n    margin: "," auto;\n"])),F,nt,(function(n){return n.theme.gaps.xm}),(function(n){return n.theme.colors.border}),nt,nt,nt),rt=s.div(An||(An=v([""],[""]))),ot=s.p(Ln||(Ln=v(["\n    font-size: 12px;\n    color: red;\n"],["\n    font-size: 12px;\n    color: red;\n"]))),at=W((function(e){var t=e.CalendarView,o=r(""),a=o[0],i=o[1],c=r(!1),l=c[0],u=c[1],s=r(""),d=s[0],f=s[1];return n.createElement(X,null,n.createElement(et,{"data-testid":"date-picker"},n.createElement(rt,null,n.createElement("p",null,"Date"),d&&n.createElement(ot,null,d)),n.createElement(tt,null,n.createElement(qe,{onClick:function(){u((function(n){return!n}))},"data-testid":"calendar-icon-button"}),n.createElement(Xe,{inputText:a,setInputText:i,setIsCalendarOpen:u,setInvalidInputError:f}),n.createElement(Ge,{onClick:function(){i("")}})),l&&n.createElement(t,null)))}));export{X as CalendarProvider,at as DatePicker,J as RangeProvider,Te as UtilityCalendar,We as withHolidays,Fe as withRange,Ae as withSelectedDay,Le as withSundayFirst,Ke as withTasks,Ue as withWeekends};
//# sourceMappingURL=index.es.js.map
